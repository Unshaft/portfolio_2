---
const { project } = Astro.props;
const currentLang = Astro.url.pathname.startsWith('/en') ? 'en' : 'fr';
---

<a href={`projects/${project.slug}`} class="block group">
  <article class="bg-white rounded-2xl shadow-lg p-6 mb-8 max-w-3xl mx-auto transform transition duration-300 group-hover:scale-[1.02] group-hover:shadow-xl opacity-0 animate-fadein">
    
    {project.image && (
      <div class="relative overflow-hidden rounded-xl mb-5 shadow-md">
        <img
          src={project.image}
          alt={project.title}
          class="w-full h-52 object-cover transition-transform duration-500 ease-in-out group-hover:scale-105"
        />
        
        {project.tag && project.tag.map((tag, i) => (
          <span
            class={`absolute top-2 left-${i * 24}px bg-gray-800 text-white text-xs font-semibold px-3 py-1 rounded-full shadow-sm tag-${tag.toLowerCase().replace(' ', '-')}`}
          >
            {tag}
          </span>
        ))}
      </div>
    )}

    <h2 class="text-2xl md:text-3xl font-bold text-[#264653] mb-2">
      {project.title}
    </h2>

    <p class="text-gray-600 text-base leading-relaxed mb-4">
      {project.description}
    </p>

    <div class="flex flex-wrap gap-2 mb-4">
      {project.stack?.map((tech: string) => (
        <span class="bg-[#E0E1E4] text-gray-800 text-sm font-medium px-3 py-1 rounded-full shadow-sm">
          {tech}
        </span>
      ))}
    </div>
  </article>
</a>
